<section class="login min-vh-100 py-5" style="background-color: #3F2E1D;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-lg border-0 p-4" style="background-color: #C6A667;">
                    <div class="text-center align-content-center mb-2">
                        <img src="assets/images/logo.png" alt="" class="img-fluid mx-auto d-block" height="120px" width="120px">
                        <span class="fw-bold text-white mt-3 fs-2" style="font-family: 'Cinzel';">Budaya Nusantara</span>
                        <p class="fw-light text-black mt-2 fs-5">Selamat datang silahkan login akun anda</p>
                    </div>
                    <div>
                        <div class="card-body ">
                            <!-- Succes message -->
                            <div *ngIf="successMessage" class="alert alert-succes alert-dismissible fade show">
                                <i class="bi bi-check-circle-fill me-2"></i>{{ successMessage }}
                                <button type="button" class="btn-close" (click)="successMessage = ''" aria-label="Close"></button>
                            </div>

                            <!-- Error message -->
                            <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="errorMessage">
                                <i class="bi bi-exclamation-triangle-fill me-2"></i>{{ errorMessage }}
                                <button type="button" class="btn-close" (click)="errorMessage = ''" aria-label="Close"></button>
                            </div>
                            <form [formGroup]="loginForm" (ngSubmit)="submitLogin()">
                                <div class="mb-4">
                                    <label for="email" class="form-label fw-semibold">
                                        <i class="bi bi-envelope-fill me-2"></i>Email
                                    </label>
                                    <input 
                                        class="form-control form-control-lg" 
                                        type="email" 
                                        id="email" 
                                        formControlName="email"
                                        [class.is-invalid]="loginForm.get('email')?.touched && loginForm.get('email')?.invalid"
                                        placeholder="Silahkan Masukkan Email Anda..." 
                                        required>
                                    <div class="invalid-feedback" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                                        <div *ngIf="loginForm.get('email')?.errors?.['required']">
                                            Email harus diisi
                                        </div>
                                        <div *ngIf="loginForm.get('email')?.errors?.['email']">
                                            Format email tidak valid
                                        </div>
                                    </div>
                                    <div class="form-text" *ngIf="!loginForm.get('email')?.touched || loginForm.get('email')?.valid">
                                        Gunakan email yang terdaftar
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <label for="password" class="form-label fw-semibold">
                                        <i class="bi bi-lock-fill me-2"></i>Password
                                    </label>
                                    <div class="input-group">
                                        <input 
                                            class="form-control form-control-lg" 
                                            [type]="showPassword ? 'text' : 'password'" 
                                            id="password" 
                                            formControlName="password"
                                            [class.is-invalid]="loginForm.get('password')?.touched && loginForm.get('password')?.invalid"
                                            placeholder="Silahkan Masukan Password Anda..." required>
                                        <button class="btn btn-outline-secondary" type="button" (click)="showPassword = !showPassword">
                                            <i [ngClass]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                                        </button>
                                    </div>
                                    <div class="invalid-feedback" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                                        <div *ngIf="loginForm.get('password')?.errors?.['required']">
                                            Password harus diisi
                                        </div>
                                        <div *ngIf="loginForm.get('password')?.errors?.['minlength']">
                                            Password minimal 6 karakter
                                        </div>
                                    </div>
                                </div>

                                <!-- Remember Me & Forgot Password -->
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="rememberMe">
                                        <label for="rememberMe" class="form-check-label">
                                            Ingat saya
                                        </label>
                                    </div>
                                    <a href="#" class="text-decoration-none small" style="color: #3F2E1D;">
                                        Lupa password?
                                    </a>
                                </div>

                                <!-- Submit Button -->
                                <div class="d-grid gap-2 mb-3">
                                    <button
                                        type="submit"
                                        class="btn btn-custom btn-lg py text-white shadow-lg"
                                        [disabled]="loginForm.invalid || isLoading">
                                        <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                                        <i *ngIf="!isLoading" class="bi bi-box-arrow-in-right me-2"></i>{{isLoading? 'memproses': 'Login'}}
                                    </button>
                                </div>
                                
                
                                
                            </form>
                        </div>
                    </div>
                </div>
            </div>
           
        </div>
    </div>
</section>